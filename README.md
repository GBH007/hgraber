# HGraber

Загрузчик манги.

## Возможности

1. Скачивать мангу с определенных сайтов
2. Просматривать скачанную мангу
3. Экспортировать мангу в формат для читалок

## Связанные проекты

- HGraber UI [Github](https://github.com/gbh007/hgraber-flutter-ui)/[Gitlab](https://gitlab.com/gbh007/hgraber_ui) - пользовательский интерфейс написанный на flutter (поддерживает не 100% функционала)
- HGraber tools [Github](https://github.com/gbh007/hgraber-tools)/[Gitlab](https://gitlab.com/gbh007/hgraber-tools) - прикладные утилиты для проекта (в основном для реализации `Server`)
- HGraber next [Github](https://github.com/gbh007/hgraber-next) - по факту 5-я итерация

## Запуск

Для запуска версии в RAM достаточно выполнить команду

> make demo

## Сравнение реализаций

Все реализации поддерживают одинаковый функционал, за отличиями описанным в таблице

| Реализация | Файловое хранилище | БД           | Поддержка агента |
| ---------- | ------------------ | ------------ | ---------------- |
| Simple     | filesystem         | JDB          | ❌ - Отсутствует |
| InMemory   | InMemory           | JDB (memory) | ✅ - Есть        |
| Server     | fileserver         | PostgreSQL   | ✅ - Есть        |

## Устройство

Всего полная система может состоять из нескольких сервисов:

1. Внешнее файловое хранилище
   - Обязательно для сервера
   - Отсутствует в InMemory и простой версии
   - Предназначен для работы с удаленной внешней системой (грубо говоря MinIO на супер минималках)
2. Сам HGraber
   - Обрабатывает мангу (если нет агента)
   - Позволяет просматривать мангу
   - Позволяет ее выгружать
3. Агент
   - Опционален для сервера
   - Предназначен для обработки манги с конкретных сайтов
   - Основная цель для него это сделать возможность добавлять любые сайты без влияния на основной код HGraber
   - Дополнительно в рамках конкретных агентов можно поддержать различные особенности сайтов, например авторизацию

![Схема сервера](server.drawio.png)
